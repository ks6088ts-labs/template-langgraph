
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ks6088ts-labs.github.io/template-langgraph/">
      
      
      
        <link rel="next" href="development/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>template-langgraph</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-0ZTKFXVQ5K"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-0ZTKFXVQ5K",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-0ZTKFXVQ5K",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#langgraph-ai-agent-template" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="template-langgraph" class="md-header__button md-logo" aria-label="template-langgraph" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            template-langgraph
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/template-langgraph/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/template-langgraph/ja/" hreflang="ja" class="md-select__link">
              日本語
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/ks6088ts-labs/template-langgraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ks6088ts-labs/template-langgraph
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="template-langgraph" class="md-nav__button md-logo" aria-label="template-langgraph" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    template-langgraph
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ks6088ts-labs/template-langgraph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ks6088ts-labs/template-langgraph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-langgraph" class="md-nav__link">
    <span class="md-ellipsis">
      What is LangGraph?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Project Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-this-template-exists" class="md-nav__link">
    <span class="md-ellipsis">
      Why This Template Exists
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      1. Environment Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-start-supporting-services-optional" class="md-nav__link">
    <span class="md-ellipsis">
      2. Start Supporting Services (Optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-initialize-data-sources" class="md-nav__link">
    <span class="md-ellipsis">
      3. Initialize Data Sources
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-examples-template_langgraphagents" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Examples (template_langgraph/agents/)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent Examples (template_langgraph/agents/)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#demo-agents-template_langgraphagentsdemo_agents" class="md-nav__link">
    <span class="md-ellipsis">
      Demo Agents (template_langgraph/agents/demo_agents/)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supporting-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Supporting Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Running the Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running the Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-langgraph-studio-recommended-for-development" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: LangGraph Studio (Recommended for Development)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-jupyter-notebooks-best-for-learning" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Jupyter Notebooks (Best for Learning)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-3-command-line-quick-development" class="md-nav__link">
    <span class="md-ellipsis">
      Option 3: Command Line (Quick development)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-4-fastapi-production-ready" class="md-nav__link">
    <span class="md-ellipsis">
      Option 4: FastAPI (Production-ready)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-5-streamlit-poc-demo" class="md-nav__link">
    <span class="md-ellipsis">
      Option 5: Streamlit (PoC demo)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-6-docker-production-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Option 6: Docker (Production deployment)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option 6: Docker (Production deployment)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-the-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Docker Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-streamlit-in-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Running Streamlit in Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-pre-built-images" class="md-nav__link">
    <span class="md-ellipsis">
      Using Pre-built Images
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-architecture-support" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Architecture Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-agent-runs" class="md-nav__link">
    <span class="md-ellipsis">
      More agent runs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo-agent-runs" class="md-nav__link">
    <span class="md-ellipsis">
      Demo agent runs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts-demonstrated" class="md-nav__link">
    <span class="md-ellipsis">
      Key Concepts Demonstrated
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts Demonstrated">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-react-pattern-reasoning-acting" class="md-nav__link">
    <span class="md-ellipsis">
      1. ReAct Pattern (Reasoning + Acting)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-tool-calling" class="md-nav__link">
    <span class="md-ellipsis">
      2. Tool Calling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-state-management" class="md-nav__link">
    <span class="md-ellipsis">
      3. State Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-conditional-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      4. Conditional Workflows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-multi-agent-systems" class="md-nav__link">
    <span class="md-ellipsis">
      5. Multi-Agent Systems
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-sources-explained" class="md-nav__link">
    <span class="md-ellipsis">
      Data Sources Explained
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools-and-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Tools and configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tools and configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mcp-tools-quickstart" class="md-nav__link">
    <span class="md-ellipsis">
      MCP tools quickstart
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observability-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Observability (optional)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Learning Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Examples
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    References
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-langgraph" class="md-nav__link">
    <span class="md-ellipsis">
      What is LangGraph?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Project Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-this-template-exists" class="md-nav__link">
    <span class="md-ellipsis">
      Why This Template Exists
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      1. Environment Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-start-supporting-services-optional" class="md-nav__link">
    <span class="md-ellipsis">
      2. Start Supporting Services (Optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-initialize-data-sources" class="md-nav__link">
    <span class="md-ellipsis">
      3. Initialize Data Sources
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-components" class="md-nav__link">
    <span class="md-ellipsis">
      Core Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-examples-template_langgraphagents" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Examples (template_langgraph/agents/)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent Examples (template_langgraph/agents/)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#demo-agents-template_langgraphagentsdemo_agents" class="md-nav__link">
    <span class="md-ellipsis">
      Demo Agents (template_langgraph/agents/demo_agents/)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supporting-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Supporting Modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Running the Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running the Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-langgraph-studio-recommended-for-development" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: LangGraph Studio (Recommended for Development)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-jupyter-notebooks-best-for-learning" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Jupyter Notebooks (Best for Learning)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-3-command-line-quick-development" class="md-nav__link">
    <span class="md-ellipsis">
      Option 3: Command Line (Quick development)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-4-fastapi-production-ready" class="md-nav__link">
    <span class="md-ellipsis">
      Option 4: FastAPI (Production-ready)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-5-streamlit-poc-demo" class="md-nav__link">
    <span class="md-ellipsis">
      Option 5: Streamlit (PoC demo)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-6-docker-production-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Option 6: Docker (Production deployment)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Option 6: Docker (Production deployment)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-the-docker-image" class="md-nav__link">
    <span class="md-ellipsis">
      Building the Docker Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-streamlit-in-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Running Streamlit in Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-pre-built-images" class="md-nav__link">
    <span class="md-ellipsis">
      Using Pre-built Images
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-architecture-support" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Architecture Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more-agent-runs" class="md-nav__link">
    <span class="md-ellipsis">
      More agent runs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo-agent-runs" class="md-nav__link">
    <span class="md-ellipsis">
      Demo agent runs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts-demonstrated" class="md-nav__link">
    <span class="md-ellipsis">
      Key Concepts Demonstrated
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Concepts Demonstrated">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-react-pattern-reasoning-acting" class="md-nav__link">
    <span class="md-ellipsis">
      1. ReAct Pattern (Reasoning + Acting)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-tool-calling" class="md-nav__link">
    <span class="md-ellipsis">
      2. Tool Calling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-state-management" class="md-nav__link">
    <span class="md-ellipsis">
      3. State Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-conditional-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      4. Conditional Workflows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-multi-agent-systems" class="md-nav__link">
    <span class="md-ellipsis">
      5. Multi-Agent Systems
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-sources-explained" class="md-nav__link">
    <span class="md-ellipsis">
      Data Sources Explained
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools-and-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Tools and configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tools and configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mcp-tools-quickstart" class="md-nav__link">
    <span class="md-ellipsis">
      MCP tools quickstart
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observability-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Observability (optional)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#learning-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Learning Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Examples
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="langgraph-ai-agent-template">LangGraph AI Agent Template</h1>
<p>A comprehensive template project for building AI agents using <a href="https://langchain-ai.github.io/langgraph/">LangGraph</a>, demonstrating various agent patterns, tool integration, and real-world use cases.</p>
<h2 id="what-is-langgraph">What is LangGraph?</h2>
<p><a href="https://langchain-ai.github.io/langgraph/">LangGraph</a> is a framework built on top of <a href="https://python.langchain.com/">LangChain</a> that enables you to create stateful, multi-agent workflows. Unlike traditional chatbots that handle single interactions, LangGraph allows you to build complex AI systems that can:</p>
<ul>
<li>Maintain conversation state across multiple turns</li>
<li>Use tools and external APIs</li>
<li>Implement complex reasoning patterns</li>
<li>Coordinate multiple AI agents</li>
<li>Handle cyclical workflows and conditional logic</li>
</ul>
<p>This template demonstrates these capabilities through practical examples using a fictional system called "KABUTO" for troubleshooting scenarios.</p>
<h2 id="project-overview">Project Overview</h2>
<p>This project showcases different AI agent patterns and architectures, from simple tool-calling agents to complex multi-agent systems. The examples use a fictional technical support scenario to demonstrate how agents can retrieve information from multiple data sources and provide structured responses.</p>
<h3 id="why-this-template-exists">Why This Template Exists</h3>
<p>Most AI applications need to:</p>
<ol>
<li><strong>Access external information</strong> - LLMs don't have access to your specific data</li>
<li><strong>Use tools</strong> - Perform actions beyond text generation</li>
<li><strong>Maintain context</strong> - Remember previous interactions</li>
<li><strong>Handle complex workflows</strong> - Break down tasks into manageable steps</li>
</ol>
<p>This template provides working examples of all these patterns using LangGraph.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li><a href="https://www.python.org/downloads/">Python 3.13+</a></li>
<li><a href="https://docs.astral.sh/uv/getting-started/installation/">uv</a> - Modern Python package manager</li>
<li><a href="https://www.gnu.org/software/make/">GNU Make</a> - For running common tasks</li>
<li><a href="https://www.docker.com/">Docker</a> - For running vector databases (optional)</li>
<li>Azure</li>
<li><a href="https://learn.microsoft.com/ja-jp/azure/ai-foundry/openai/overview">Azure OpenAI</a> - LLM API</li>
<li><a href="https://learn.microsoft.com/ja-jp/azure/cosmos-db/">Azure Cosmos DB</a> - Data storage (optional)</li>
</ul>
<h2 id="quick-start">Quick Start</h2>
<h3 id="1-environment-setup">1. Environment Setup</h3>
<pre><code class="language-shell"># Clone the repository
git clone https://github.com/ks6088ts-labs/template-langgraph.git
cd template-langgraph

# Install Python dependencies
uv sync --all-extras

# Create environment configuration
cp .env.template .env
# Edit .env with your API keys (Azure OpenAI, etc.)
</code></pre>
<h3 id="2-start-supporting-services-optional">2. Start Supporting Services (Optional)</h3>
<p>For full functionality, start the vector databases:</p>
<pre><code class="language-shell"># Start Qdrant and Elasticsearch using Docker
docker compose up -d
</code></pre>
<h3 id="3-initialize-data-sources">3. Initialize Data Sources</h3>
<p><strong>Set up Qdrant vector database:</strong></p>
<pre><code class="language-shell">uv run python scripts/qdrant_operator.py add-documents \
  --collection-name qa_kabuto \
  --verbose
</code></pre>
<p><strong>Set up Elasticsearch search index:</strong></p>
<pre><code class="language-shell">uv run python scripts/elasticsearch_operator.py create-index \
  --index-name docs_kabuto \
  --verbose
</code></pre>
<p><strong>Optional: Set up additional data sources:</strong></p>
<pre><code class="language-shell"># Azure AI Search
make create-ai-search-index

# Azure Cosmos DB
make create-cosmosdb-index

# Or use the operator scripts directly:
# uv run python scripts/ai_search_operator.py add-documents --verbose
# uv run python scripts/cosmosdb_operator.py add-documents --verbose
</code></pre>
<h2 id="project-structure">Project Structure</h2>
<h3 id="core-components">Core Components</h3>
<ul>
<li><strong><code>data/</code></strong> - Sample data for the fictional KABUTO system (PDFs, FAQs, troubleshooting guides)</li>
<li><strong><code>template_langgraph/</code></strong> - Main Python package containing all agent implementations</li>
<li><strong><code>notebooks/</code></strong> - Jupyter notebooks with interactive examples and explanations</li>
<li><strong><code>scripts/</code></strong> - Command-line tools for running agents</li>
<li><code>agent_operator.py</code> - Main agent runner for production agents</li>
<li><code>demo_agents_operator.py</code> - Runner for simple demo agents</li>
<li>Database/search operators (<code>qdrant_operator.py</code>, <code>elasticsearch_operator.py</code>, <code>ai_search_operator.py</code>, <code>cosmosdb_operator.py</code>)</li>
<li>LLM testing operators (<code>azure_openai_operator.py</code>, <code>azure_ai_foundry_operator.py</code>, <code>ollama_operator.py</code>)</li>
<li>Other utilities (<code>dify_operator.py</code>, <code>otel_operator.py</code>)</li>
</ul>
<h3 id="agent-examples-template_langgraphagents">Agent Examples (<code>template_langgraph/agents/</code>)</h3>
<p>This project includes several agent implementations, each demonstrating different LangGraph patterns. You can render their graphs to PNG via the CLI (see Deployment) and run them from the terminal or Makefile targets.</p>
<ul>
<li><code>kabuto_helpdesk_agent/</code> — Start here. Prebuilt ReAct agent via <code>create_react_agent</code>. Key: ReAct, tool calling, prebuilt agents.</li>
<li><code>chat_with_tools_agent/</code> — Core implementation. Manual graph building equivalent to the helpdesk agent. Key: graph construction, state, nodes/edges.</li>
<li><code>issue_formatter_agent/</code> — Structured output. Extracts structured data via Pydantic. Key: structured output, validation, formatting.</li>
<li><code>task_decomposer_agent/</code> — Planning &amp; decomposition. Breaks down complex tasks into steps. Key: planning, multi-step reasoning, conditional flows.</li>
<li><code>supervisor_agent/</code> — Multi-agent coordination. Supervisor orchestrates multiple specialists. Key: multi-agent coordination.</li>
<li><code>news_summarizer_agent/</code> — Web/YouTube summarization. Scrapes content, summarizes to <code>StructuredArticle</code>, and notifies. Key: fan-out subtasks, notifier/scraper/summarizer plugins.</li>
<li><code>image_classifier_agent/</code> — Vision classification. Classifies local images and notifies results. Key: LLM-based image classification, parallel subtasks.</li>
</ul>
<h4 id="demo-agents-template_langgraphagentsdemo_agents">Demo Agents (<code>template_langgraph/agents/demo_agents/</code>)</h4>
<p>Additional simple agents for learning and demonstration:</p>
<ul>
<li><code>weather_agent.py</code> — Simple tool-calling agent. Basic ReAct pattern with mock weather search tool. Key: tool calling, basic agent pattern.</li>
<li><code>multi_agent.py</code> — Multi-agent coordination. Demonstrates agent-to-agent handoff using transfer functions. Key: agent coordination, workflow transfer.</li>
<li><code>parallel_rag_agent/</code> — Task decomposition with parallel execution. Breaks down querys into tasks and processes them in parallel. Key: parallel processing, task decomposition, Send operations.</li>
</ul>
<h3 id="supporting-modules">Supporting Modules</h3>
<ul>
<li><code>template_langgraph/llms/</code>: LLM wrappers (Azure OpenAI, Azure AI Foundry, Ollama)</li>
<li><code>template_langgraph/tools/</code>: Tool implementations used by agents</li>
<li>Azure AI Search (<code>ai_search_tool.py</code>)</li>
<li>Azure Cosmos DB Vector Search (<code>cosmosdb_tool.py</code>)</li>
<li>Dify Workflow (<code>dify_tool.py</code>)</li>
<li>Elasticsearch full-text search (<code>elasticsearch_tool.py</code>)</li>
<li>MCP client (Model Context Protocol) (<code>mcp_tool.py</code>)</li>
<li>Qdrant vector search (<code>qdrant_tool.py</code>)</li>
<li>SQL Database toolkit (conditional; enabled when DSN provided) (<code>sql_database_tool.py</code>)</li>
<li><code>template_langgraph/internals/</code>: Internal utilities</li>
<li>Notifiers (Mock/Slack)</li>
<li>Scrapers (Mock/HTTPX/YouTube transcript)</li>
<li>Summarizers (Mock/LLM structured output)</li>
<li>Loaders (CSV/PDF), OTEL helpers</li>
</ul>
<h2 id="running-the-examples">Running the Examples</h2>
<h3 id="option-1-langgraph-studio-recommended-for-development">Option 1: LangGraph Studio (Recommended for Development)</h3>
<p><a href="https://langchain-ai.github.io/langgraph/concepts/langgraph_studio/">LangGraph Studio</a> provides a visual interface for developing and debugging agents:</p>
<pre><code class="language-shell">uv run langgraph dev
</code></pre>
<p>This opens a web interface where you can:</p>
<ul>
<li>Visualize agent workflows</li>
<li>Step through executions</li>
<li>Debug state transitions</li>
<li>Test different inputs</li>
</ul>
<p><img alt="langgraph-studio.png" src="images/langgraph-studio.png" /></p>
<h3 id="option-2-jupyter-notebooks-best-for-learning">Option 2: Jupyter Notebooks (Best for Learning)</h3>
<p>Interactive notebooks with explanations and examples:</p>
<pre><code class="language-shell">uv run jupyter lab
# Navigate to http://localhost:8888 and open notebooks/*.ipynb
</code></pre>
<p><img alt="jupyterlab.png" src="images/jupyterlab.png" /></p>
<h3 id="option-3-command-line-quick-development">Option 3: Command Line (Quick development)</h3>
<p>Run agents from the terminal:</p>
<pre><code class="language-shell">uv run python scripts/agent_operator.py run \
  --name &quot;chat_with_tools_agent&quot; \
  --question &quot;KABUTO startup issue: screen flashes purple and system freezes&quot; \
  --verbose
</code></pre>
<p>Example output showing the agent's reasoning process:</p>
<pre><code class="language-text">Event: {'chat_with_tools': {'messages': [AIMessage(content='', tool_calls=[
  {'name': 'search_elasticsearch', 'args': {'keywords': 'KABUTO startup purple flashing freeze'}},
  {'name': 'search_qdrant', 'args': {'keywords': 'KABUTO startup purple flashing freeze'}}
])]}}

Event: {'tools': {'messages': [ToolMessage(content='Found documentation about startup protocol...')]}}

Event: {'chat_with_tools': {'messages': [AIMessage(content='
### Problem Analysis
The purple screen flashing during KABUTO startup indicates a &quot;Shinobi Protocol&quot; initialization failure...

### Solution
1. **Disconnect peripheral devices**: Unplug all connected devices for 5+ seconds
2. **Clear external clock cache**: This resolves clock synchronization issues
3. **Restart KABUTO**: Use the &quot;Dragon Ball&quot; button for 5+ seconds if needed
')]}}
</code></pre>
<h3 id="option-4-fastapi-production-ready">Option 4: FastAPI (Production-ready)</h3>
<p>Run the FastAPI server to expose the agent as an API:</p>
<pre><code class="language-shell">uv run fastapi run \
  --host &quot;0.0.0.0&quot; \
  --port 8000 \
  --workers 4 \
  template_langgraph/services/fastapis/main.py
# Access the API at http://localhost:8000/docs via Swagger UI
</code></pre>
<p>This allows you to interact with the agent programmatically via HTTP requests.</p>
<p><img alt="fastapi.png" src="images/fastapi.png" /></p>
<h3 id="option-5-streamlit-poc-demo">Option 5: Streamlit (PoC demo)</h3>
<p>Run the Streamlit app to expose the agent as a web interface:</p>
<pre><code class="language-shell">uv run streamlit run \
  template_langgraph/services/streamlits/main.py
</code></pre>
<p>Demonstration of the Streamlit app:</p>
<p><a href="https://youtu.be/undxBwyJ3Sc"><img alt="streamlit.png" src="images/streamlit.png" /></a></p>
<h3 id="option-6-docker-production-deployment">Option 6: Docker (Production deployment)</h3>
<p>You can run the application in Docker for consistent deployment across environments:</p>
<h4 id="building-the-docker-image">Building the Docker Image</h4>
<pre><code class="language-shell"># Build the Docker image locally
make docker-build

# Or build with specific tag
docker build -t ks6088ts/template-langgraph:latest .
</code></pre>
<h4 id="running-streamlit-in-docker">Running Streamlit in Docker</h4>
<pre><code class="language-shell"># Run Streamlit app with Docker
make docker-run-streamlit

# Or run manually with environment file
docker run --rm \
  -p 8501:8501 \
  -v ./.env:/app/.env \
  ks6088ts/template-langgraph:latest \
  streamlit run template_langgraph/services/streamlits/main.py --server.address 0.0.0.0
</code></pre>
<h4 id="using-pre-built-images">Using Pre-built Images</h4>
<p>You can also use pre-built images from Docker Hub or GitHub Container Registry:</p>
<pre><code class="language-shell"># From Docker Hub
docker run --rm \
  -p 8501:8501 \
  -v ./.env:/app/.env \
  ks6088ts/template-langgraph:latest \
  streamlit run template_langgraph/services/streamlits/main.py --server.address 0.0.0.0

# From GitHub Container Registry
docker run --rm \
  -p 8501:8501 \
  -v ./.env:/app/.env \
  ghcr.io/ks6088ts-labs/template-langgraph:latest \
  streamlit run template_langgraph/services/streamlits/main.py --server.address 0.0.0.0
</code></pre>
<h4 id="multi-architecture-support">Multi-Architecture Support</h4>
<p>The Docker images are built for both <code>amd64</code> and <code>arm64</code> architectures, making them compatible with:</p>
<ul>
<li>Intel/AMD x64 processors</li>
<li>Apple Silicon (M1/M2/M3/M4) processors</li>
<li>ARM-based servers</li>
</ul>
<p>Access the Streamlit app at <a href="http://localhost:8501">http://localhost:8501</a> after running the container.</p>
<h3 id="more-agent-runs">More agent runs</h3>
<ul>
<li>Issue formatter (structured output):</li>
</ul>
<pre><code class="language-shell">uv run python scripts/agent_operator.py run \
  --name issue_formatter_agent \
  --question &quot;KABUTO login fails...（省略）&quot; \
  --verbose
</code></pre>
<ul>
<li>News summarizer (fan-out over URLs):</li>
</ul>
<pre><code class="language-shell">uv run python scripts/agent_operator.py news-summarizer-agent \
  --prompt &quot;日本語で3行に要約してください&quot; \
  --urls &quot;https://example.com/a,https://example.com/b&quot; \
  --verbose
</code></pre>
<ul>
<li>Image classifier (classify local images):</li>
</ul>
<pre><code class="language-shell">uv run python scripts/agent_operator.py image-classifier-agent \
  --prompt &quot;画像の内容を3行で説明してください&quot; \
  --file-paths &quot;docs/images/fastapi.png,docs/images/streamlit.png&quot; \
  --verbose
</code></pre>
<h3 id="demo-agent-runs">Demo agent runs</h3>
<ul>
<li>Weather agent (simple tool calling):</li>
</ul>
<pre><code class="language-shell">uv run python scripts/demo_agents_operator.py weather-agent \
  --query &quot;What's the weather in Japan?&quot; \
  --verbose
</code></pre>
<ul>
<li>Multi agent (agent coordination):</li>
</ul>
<pre><code class="language-shell">uv run python scripts/demo_agents_operator.py multi-agent \
  --query &quot;What's the weather in Tokyo?&quot; \
  --verbose
</code></pre>
<ul>
<li>Parallel rag agent (task decomposition):</li>
</ul>
<pre><code class="language-shell">uv run python scripts/demo_agents_operator.py parallel-rag-agent \
  --query &quot;Plan information gathering strategy for launching a software company&quot; \
  --verbose
</code></pre>
<p>Makefile shortcuts are also available (e.g., <code>make run-chat-with-tools-agent</code>, <code>make run-issue-formatter-agent</code>, <code>make run-news-summarizer-agent</code>, <code>make run-image-classifier-agent</code>).</p>
<h2 id="key-concepts-demonstrated">Key Concepts Demonstrated</h2>
<h3 id="1-react-pattern-reasoning-acting">1. <strong>ReAct Pattern</strong> (Reasoning + Acting)</h3>
<p>The foundation of modern AI agents - the ability to reason about what to do, take actions, and reason about the results.</p>
<h3 id="2-tool-calling">2. <strong>Tool Calling</strong></h3>
<p>How agents can use external functions to:</p>
<ul>
<li>Search databases (Elasticsearch, Qdrant)</li>
<li>Call APIs</li>
<li>Process files</li>
<li>Execute calculations</li>
</ul>
<h3 id="3-state-management">3. <strong>State Management</strong></h3>
<p>How LangGraph maintains context across multiple interaction steps, enabling complex multi-turn conversations.</p>
<h3 id="4-conditional-workflows">4. <strong>Conditional Workflows</strong></h3>
<p>Using graph structures to create branching logic based on agent decisions or external conditions.</p>
<h3 id="5-multi-agent-systems">5. <strong>Multi-Agent Systems</strong></h3>
<p>Coordinating multiple specialized agents to handle complex tasks that require different expertise.</p>
<h2 id="data-sources-explained">Data Sources Explained</h2>
<p>The project uses fictional data about a system called "KABUTO" to demonstrate real-world scenarios:</p>
<ul>
<li><strong><code>data/docs_kabuto.pdf</code></strong> - Technical documentation (simulates user manuals)</li>
<li><strong><code>data/qa_kabuto.csv</code></strong> - FAQ database (simulates past support tickets)</li>
<li><strong><code>data/docs_kabuto.md</code></strong> - Additional documentation</li>
</ul>
<p>This fictional data serves a purpose: it proves that the AI agents can work with information that isn't in the LLM's training data, demonstrating the value of retrieval-augmented generation (RAG).</p>
<h2 id="tools-and-configuration">Tools and configuration</h2>
<p>The default toolset is configured in <code>template_langgraph/tools/common.py</code> and includes search, vector, workflow, SQL (optional), and MCP tools. Tools are enabled/configured via environment variables in <code>.env</code>:</p>
<ul>
<li>Azure OpenAI</li>
<li><code>AZURE_OPENAI_ENDPOINT</code>, <code>AZURE_OPENAI_API_KEY</code>, <code>AZURE_OPENAI_API_VERSION</code></li>
<li><code>AZURE_OPENAI_MODEL_CHAT</code>, <code>AZURE_OPENAI_MODEL_EMBEDDING</code>, <code>AZURE_OPENAI_MODEL_REASONING</code></li>
<li>Optional Entra ID auth: <code>AZURE_OPENAI_USE_MICROSOFT_ENTRA_ID=true</code></li>
<li>Azure AI Foundry</li>
<li><code>AZURE_AI_FOUNDRY_INFERENCE_ENDPOINT</code>, <code>AZURE_AI_FOUNDRY_INFERENCE_API_VERSION</code></li>
<li><code>AZURE_AI_FOUNDRY_INFERENCE_MODEL_CHAT</code></li>
<li>Ollama (local)</li>
<li><code>OLLAMA_MODEL_CHAT</code></li>
<li>Azure AI Search</li>
<li><code>AI_SEARCH_ENDPOINT</code>, <code>AI_SEARCH_KEY</code>, <code>AI_SEARCH_INDEX_NAME</code></li>
<li>Azure Cosmos DB (vector)</li>
<li><code>COSMOSDB_HOST</code>, <code>COSMOSDB_KEY</code>, <code>COSMOSDB_DATABASE_NAME</code>, <code>COSMOSDB_CONTAINER_NAME</code>, <code>COSMOSDB_PARTITION_KEY</code></li>
<li>Elasticsearch</li>
<li><code>ELASTICSEARCH_URL</code> (default <code>http://localhost:9200</code>)</li>
<li>Qdrant</li>
<li><code>QDRANT_URL</code> (default <code>http://localhost:6333</code>)</li>
<li>SQL Database (optional)</li>
<li><code>SQL_DATABASE_URI</code> (if empty, SQL tools are disabled)</li>
<li>Dify</li>
<li><code>DIFY_BASE_URL</code>, <code>DIFY_API_KEY</code></li>
<li>MCP (Model Context Protocol)</li>
<li><code>MCP_CONFIG_PATH</code> (JSON config; tools loaded dynamically)</li>
<li>Notifier/Scraper/Summarizer switches</li>
<li><code>NOTIFIER_TYPE</code> (<code>mock</code>/<code>slack</code>), <code>NOTIFIER_SLACK_WEBHOOK_URL</code></li>
<li><code>SCRAPER_TYPE</code> (<code>mock</code>/<code>httpx</code>/<code>youtube_transcript</code>)</li>
<li><code>SUMMARIZER_TYPE</code> (<code>mock</code>/<code>llm</code>)</li>
</ul>
<p>See <code>.env.template</code> for a complete list. Most values have sensible local defaults for Docker-based development.</p>
<h3 id="mcp-tools-quickstart">MCP tools quickstart</h3>
<p>If <code>MCP_CONFIG_PATH</code> is set to a config file, the agent will automatically load MCP server tools. You can inspect/test MCP servers locally:</p>
<pre><code class="language-shell">make mcp-inspector
</code></pre>
<h2 id="next-steps">Next Steps</h2>
<ol>
<li><strong>Start with the basics</strong>: Run the <code>kabuto_helpdesk_agent</code> example</li>
<li><strong>Try demo agents</strong>: Explore the simple patterns with <code>weather_agent</code>, <code>multi_agent</code>, and <code>parallel_rag_agent</code></li>
<li><strong>Understand the implementation</strong>: Compare it with <code>chat_with_tools_agent</code></li>
<li><strong>Explore advanced patterns</strong>: Try the task decomposer and supervisor agents</li>
<li><strong>Build your own</strong>: Use this template as a starting point for your use case</li>
</ol>
<h2 id="observability-optional">Observability (optional)</h2>
<p>OpenTelemetry helpers are available (<code>template_langgraph/internals/otel_helpers.py</code>). Try a quick span flow:</p>
<pre><code class="language-shell">uv run python scripts/otel_operator.py run -q &quot;health check&quot; -v
</code></pre>
<h2 id="learning-resources">Learning Resources</h2>
<ul>
<li><a href="https://langchain-ai.github.io/langgraph/">LangGraph Documentation</a></li>
<li><a href="https://python.langchain.com/">LangChain Documentation</a></li>
</ul>
<h2 id="architecture-examples">Architecture Examples</h2>
<p>This template demonstrates several proven agent architectures:</p>
<ol>
<li><strong>Single Agent with Tools</strong> - Basic tool-calling pattern (<code>weather_agent</code>)</li>
<li><strong>ReAct Agent</strong> - Reasoning and acting in loops (<code>kabuto_helpdesk_agent</code>)</li>
<li><strong>Structured Output Agent</strong> - Returning formatted data (<code>issue_formatter_agent</code>)</li>
<li><strong>Planning Agent</strong> - Breaking down complex tasks (<code>task_decomposer_agent</code>)</li>
<li><strong>Multi-Agent Systems</strong> - Coordinating multiple agents (<code>supervisor_agent</code>, <code>multi_agent</code>)</li>
<li><strong>Parallel Processing</strong> - Concurrent task execution (<code>parallel_rag_agent</code>)</li>
</ol>
<p>Each pattern is implemented with clear examples and documentation to help you understand when and how to use them.</p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/ks6088ts/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/ks6088ts" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/ks6088ts" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>