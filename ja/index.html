
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ks6088ts-labs.github.io/template-langgraph/ja/">
      
      
      
        <link rel="next" href="development/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Home - template-langgraph</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-0ZTKFXVQ5K"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-0ZTKFXVQ5K",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-0ZTKFXVQ5K",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#langgraph-ai" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="./" title="template-langgraph" class="md-header__button md-logo" aria-label="template-langgraph" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            template-langgraph
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="言語切り替え">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/template-langgraph/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/template-langgraph/ja/" hreflang="ja" class="md-select__link">
              日本語
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/ks6088ts-labs/template-langgraph" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ks6088ts-labs/template-langgraph
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="./" title="template-langgraph" class="md-nav__button md-logo" aria-label="template-langgraph" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    template-langgraph
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ks6088ts-labs/template-langgraph" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    ks6088ts-labs/template-langgraph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#langgraph" class="md-nav__link">
    <span class="md-ellipsis">
      LangGraph とは？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      プロジェクト概要
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロジェクト概要">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      このテンプレートが存在する理由
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      前提条件
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      クイックスタート
    </span>
  </a>
  
    <nav class="md-nav" aria-label="クイックスタート">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 環境設定
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. サポートサービスの開始（オプション）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. データソースの初期化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      プロジェクト構造
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロジェクト構造">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      コアコンポーネント
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template_langgraphagents" class="md-nav__link">
    <span class="md-ellipsis">
      エージェントの例（template_langgraph/agents/）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="エージェントの例（template_langgraph/agents/）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template_langgraphagentsdemo_agents" class="md-nav__link">
    <span class="md-ellipsis">
      デモエージェント（template_langgraph/agents/demo_agents/）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      サポートモジュール
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      サンプルコードの実行
    </span>
  </a>
  
    <nav class="md-nav" aria-label="サンプルコードの実行">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-langgraph-studio" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 1: LangGraph Studio（開発用推奨）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-jupyter" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 2: Jupyter ノートブック（学習に最適）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 3: コマンドライン（クイックな開発）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-fastapi" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 4: FastAPI サーバー（プロダクションレディ）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-streamlitpoc" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 5: Streamlit（PoC デモ）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-docker" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 6: Docker（本番デプロイ）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="オプション 6: Docker（本番デプロイ）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker イメージのビルド
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamlit-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Streamlit を Docker で実行
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      事前ビルド済みイメージの使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      マルチアーキテクチャ対応
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      追加の実行例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      デモエージェント実行例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      実演されている主要概念
    </span>
  </a>
  
    <nav class="md-nav" aria-label="実演されている主要概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-react" class="md-nav__link">
    <span class="md-ellipsis">
      1. ReAct パターン（推論 + 行動）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. ツール呼び出し
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3. 状態管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 条件付きワークフロー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. マルチエージェントシステム
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      データソースの説明
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ツールと設定
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ツールと設定">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mcp" class="md-nav__link">
    <span class="md-ellipsis">
      MCP ツールのクイックスタート
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      次のステップ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      可観測性（任意）
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      学習リソース
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      アーキテクチャの例
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    References
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#langgraph" class="md-nav__link">
    <span class="md-ellipsis">
      LangGraph とは？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      プロジェクト概要
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロジェクト概要">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      このテンプレートが存在する理由
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      前提条件
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      クイックスタート
    </span>
  </a>
  
    <nav class="md-nav" aria-label="クイックスタート">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 環境設定
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. サポートサービスの開始（オプション）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. データソースの初期化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      プロジェクト構造
    </span>
  </a>
  
    <nav class="md-nav" aria-label="プロジェクト構造">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      コアコンポーネント
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template_langgraphagents" class="md-nav__link">
    <span class="md-ellipsis">
      エージェントの例（template_langgraph/agents/）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="エージェントの例（template_langgraph/agents/）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#template_langgraphagentsdemo_agents" class="md-nav__link">
    <span class="md-ellipsis">
      デモエージェント（template_langgraph/agents/demo_agents/）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      サポートモジュール
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      サンプルコードの実行
    </span>
  </a>
  
    <nav class="md-nav" aria-label="サンプルコードの実行">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-langgraph-studio" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 1: LangGraph Studio（開発用推奨）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-jupyter" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 2: Jupyter ノートブック（学習に最適）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 3: コマンドライン（クイックな開発）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-fastapi" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 4: FastAPI サーバー（プロダクションレディ）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-streamlitpoc" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 5: Streamlit（PoC デモ）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-docker" class="md-nav__link">
    <span class="md-ellipsis">
      オプション 6: Docker（本番デプロイ）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="オプション 6: Docker（本番デプロイ）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker イメージのビルド
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streamlit-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Streamlit を Docker で実行
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      事前ビルド済みイメージの使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      マルチアーキテクチャ対応
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      追加の実行例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      デモエージェント実行例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      実演されている主要概念
    </span>
  </a>
  
    <nav class="md-nav" aria-label="実演されている主要概念">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-react" class="md-nav__link">
    <span class="md-ellipsis">
      1. ReAct パターン（推論 + 行動）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. ツール呼び出し
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3. 状態管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 条件付きワークフロー
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. マルチエージェントシステム
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      データソースの説明
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ツールと設定
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ツールと設定">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mcp" class="md-nav__link">
    <span class="md-ellipsis">
      MCP ツールのクイックスタート
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      次のステップ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      可観測性（任意）
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      学習リソース
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      アーキテクチャの例
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="langgraph-ai">LangGraph AI エージェント テンプレート</h1>
<p><a href="https://langchain-ai.github.io/langgraph/">LangGraph</a>を使用して AI エージェントを構築するための包括的なテンプレートプロジェクト。様々なエージェントパターン、ツール統合、実際のユースケースを実演します。</p>
<h2 id="langgraph">LangGraph とは？</h2>
<p><a href="https://langchain-ai.github.io/langgraph/">LangGraph</a>は<a href="https://python.langchain.com/">LangChain</a>の上に構築されたフレームワークで、ステートフルなマルチエージェントワークフローを作成できます。単一のインタラクションを処理する従来のチャットボットとは異なり、LangGraph では以下のような複雑な AI システムを構築できます：</p>
<ul>
<li>複数のターンにわたって会話状態を維持</li>
<li>ツールと外部 API の使用</li>
<li>複雑な推論パターンの実装</li>
<li>複数の AI エージェントの協調</li>
<li>循環ワークフローと条件ロジックの処理</li>
</ul>
<p>このテンプレートは、トラブルシューティングシナリオ用の架空のシステム「KABUTO」を使用して、これらの機能を実際の例で示しています。</p>
<h2 id="_1">プロジェクト概要</h2>
<p>このプロジェクトは、シンプルなツール呼び出しエージェントから複雑なマルチエージェントシステムまで、異なる AI エージェントパターンとアーキテクチャを紹介しています。例では、エージェントが複数のデータソースから情報を取得し、構造化された回答を提供する方法を示すために、架空の技術サポートシナリオを使用しています。</p>
<h3 id="_2">このテンプレートが存在する理由</h3>
<p>多くの AI アプリケーションは以下のことが必要です：</p>
<ol>
<li><strong>外部情報へのアクセス</strong> - LLM は特定のデータにアクセスできません</li>
<li><strong>ツールの使用</strong> - テキスト生成以外のアクションを実行</li>
<li><strong>コンテキストの維持</strong> - 以前のインタラクションを記憶</li>
<li><strong>複雑なワークフローの処理</strong> - タスクを管理可能なステップに分解</li>
</ol>
<p>このテンプレートは、LangGraph を使用してこれらすべてのパターンの動作例を提供しています。</p>
<h2 id="_3">前提条件</h2>
<ul>
<li><a href="https://www.python.org/downloads/">Python 3.13+</a></li>
<li><a href="https://docs.astral.sh/uv/getting-started/installation/">uv</a> - モダンな Python パッケージマネージャー</li>
<li><a href="https://www.gnu.org/software/make/">GNU Make</a> - 一般的なタスクの実行用</li>
<li><a href="https://www.docker.com/">Docker</a> - ベクターデータベースの実行用（オプション）</li>
<li>Azure</li>
<li><a href="https://learn.microsoft.com/ja-jp/azure/ai-foundry/openai/overview">Azure OpenAI</a> - LLM API</li>
<li><a href="https://learn.microsoft.com/ja-jp/azure/cosmos-db/">Azure Cosmos DB</a> - データストレージ（オプション）</li>
</ul>
<h2 id="_4">クイックスタート</h2>
<h3 id="1">1. 環境設定</h3>
<pre><code class="language-shell"># リポジトリをクローン
git clone https://github.com/ks6088ts-labs/template-langgraph.git
cd template-langgraph

# Python依存関係をインストール
uv sync --all-extras

# 環境設定を作成
cp .env.template .env
# .envを編集してAPIキー（Azure OpenAIなど）を設定
</code></pre>
<h3 id="2">2. サポートサービスの開始（オプション）</h3>
<p>完全な機能のために、ベクターデータベースを開始します：</p>
<pre><code class="language-shell"># DockerでQdrantとElasticsearchを開始
docker compose up -d
</code></pre>
<h3 id="3">3. データソースの初期化</h3>
<p><strong>Qdrant ベクターデータベースの設定:</strong></p>
<pre><code class="language-shell">uv run python scripts/qdrant_operator.py add-documents \
  --collection-name qa_kabuto \
  --verbose
</code></pre>
<p><strong>Elasticsearch 検索インデックスの設定:</strong></p>
<pre><code class="language-shell">uv run python scripts/elasticsearch_operator.py create-index \
  --index-name docs_kabuto \
  --verbose
</code></pre>
<p><strong>任意: 追加データソースの設定:</strong></p>
<pre><code class="language-shell"># Azure AI Search
make create-ai-search-index

# Azure Cosmos DB
make create-cosmosdb-index

# またはオペレータースクリプトを直接使用:
# uv run python scripts/ai_search_operator.py add-documents --verbose
# uv run python scripts/cosmosdb_operator.py add-documents --verbose
</code></pre>
<h2 id="_5">プロジェクト構造</h2>
<h3 id="_6">コアコンポーネント</h3>
<ul>
<li><strong><code>data/</code></strong> - 架空の KABUTO システム用のサンプルデータ（PDF、FAQ、トラブルシューティングガイド）</li>
<li><strong><code>template_langgraph/</code></strong> - すべてのエージェント実装を含むメイン Python パッケージ</li>
<li><strong><code>notebooks/</code></strong> - インタラクティブな例と説明付き Jupyter ノートブック</li>
<li><strong><code>scripts/</code></strong> - エージェント実行用コマンドラインツール</li>
<li><code>agent_operator.py</code> - プロダクションエージェント用メインランナー</li>
<li><code>demo_agents_operator.py</code> - シンプルなデモエージェント用ランナー</li>
<li>データベース/検索オペレーター（<code>qdrant_operator.py</code>、<code>elasticsearch_operator.py</code>、<code>ai_search_operator.py</code>、<code>cosmosdb_operator.py</code>）</li>
<li>LLM テストオペレーター（<code>azure_openai_operator.py</code>、<code>azure_ai_foundry_operator.py</code>、<code>ollama_operator.py</code>）</li>
<li>その他ユーティリティ（<code>dify_operator.py</code>、<code>otel_operator.py</code>）</li>
</ul>
<h3 id="template_langgraphagents">エージェントの例（<code>template_langgraph/agents/</code>）</h3>
<p>本プロジェクトには、各種 LangGraph パターンを示すエージェント実装が含まれます。CLI でグラフを PNG 出力（Deployment 参照）したり、ターミナル/Makefile から実行できます。</p>
<ul>
<li><code>kabuto_helpdesk_agent/</code> — 入門に最適。<code>create_react_agent</code> による ReAct エージェント。主要概念: ReAct、ツール呼び出し、プリビルト。</li>
<li><code>chat_with_tools_agent/</code> — コア実装。ヘルプデスク相当の手組みグラフ。主要概念: グラフ構築、状態管理、ノード/エッジ。</li>
<li><code>issue_formatter_agent/</code> — 構造化出力。Pydantic で構造化データ抽出。主要概念: 構造化出力、検証、整形。</li>
<li><code>task_decomposer_agent/</code> — 計画と分解。複雑タスクを段階的に分解。主要概念: 計画、マルチステップ推論、条件分岐。</li>
<li><code>supervisor_agent/</code> — マルチエージェント協調。スーパーバイザーが複数の専門エージェントを調整。主要概念: 協調。</li>
<li><code>news_summarizer_agent/</code> — Web/YouTube 要約。取得 → 要約 → 通知。主要概念: 扇形サブタスク、Notifier/Scraper/Summarizer を差し替え。</li>
<li><code>image_classifier_agent/</code> — 画像分類。ローカル画像を分類し通知。主要概念: 画像 ×LLM、並列サブタスク。</li>
</ul>
<h4 id="template_langgraphagentsdemo_agents">デモエージェント（<code>template_langgraph/agents/demo_agents/</code>）</h4>
<p>学習と実演用の追加シンプルエージェント：</p>
<ul>
<li><code>weather_agent.py</code> — シンプルなツール呼び出しエージェント。モック天気検索ツールを使った基本的な ReAct パターン。主要概念: ツール呼び出し、基本エージェントパターン。</li>
<li><code>multi_agent.py</code> — マルチエージェント協調。転送機能を使ったエージェント間の引き渡しを実演。主要概念: エージェント協調、ワークフロー転送。</li>
<li><code>parallel_rag_agent/</code> — 並列実行タスク分解。目標をタスクに分解し並列処理。主要概念: 並列処理、タスク分解、Send 操作。</li>
</ul>
<h3 id="_7">サポートモジュール</h3>
<ul>
<li><code>template_langgraph/llms/</code>: LLM ラッパー（Azure OpenAI、Azure AI Foundry、Ollama）</li>
<li><code>template_langgraph/tools/</code>: ツール実装</li>
<li>Azure AI Search（<code>ai_search_tool.py</code>）</li>
<li>Azure Cosmos DB Vector Search（<code>cosmosdb_tool.py</code>）</li>
<li>Dify Workflow（<code>dify_tool.py</code>）</li>
<li>Elasticsearch 全文検索（<code>elasticsearch_tool.py</code>）</li>
<li>MCP クライアント（<code>mcp_tool.py</code>）</li>
<li>Qdrant ベクター検索（<code>qdrant_tool.py</code>）</li>
<li>SQL Database ツールキット（DSN 指定時のみ有効、<code>sql_database_tool.py</code>）</li>
<li><code>template_langgraph/internals/</code>: 内部ユーティリティ</li>
<li>Notifier（Mock/Slack）</li>
<li>Scraper（Mock/HTTPX/YouTube transcript）</li>
<li>Summarizer（Mock/LLM 構造化出力）</li>
<li>Loader（CSV/PDF）、OTEL ヘルパー</li>
</ul>
<h2 id="_8">サンプルコードの実行</h2>
<h3 id="1-langgraph-studio">オプション 1: LangGraph Studio（開発用推奨）</h3>
<p><a href="https://langchain-ai.github.io/langgraph/concepts/langgraph_studio/">LangGraph Studio</a>は、エージェントの開発とデバッグのためのビジュアルインターフェースを提供します：</p>
<pre><code class="language-shell">uv run langgraph dev
</code></pre>
<p>これにより、以下が可能な Web インターフェースが開きます：</p>
<ul>
<li>エージェントワークフローの可視化</li>
<li>実行のステップスルー</li>
<li>状態遷移のデバッグ</li>
<li>異なる入力のテスト</li>
</ul>
<p><img alt="langgraph-studio.png" src="../images/langgraph-studio.png" /></p>
<h3 id="2-jupyter">オプション 2: Jupyter ノートブック（学習に最適）</h3>
<p>説明と例付きのインタラクティブノートブック：</p>
<pre><code class="language-shell">uv run jupyter lab
# http://localhost:8888 に移動し、notebooks/*.ipynbを開く
</code></pre>
<p><img alt="jupyterlab.png" src="../images/jupyterlab.png" /></p>
<h3 id="3_1">オプション 3: コマンドライン（クイックな開発）</h3>
<p>ターミナルからエージェントを実行：</p>
<pre><code class="language-shell">uv run python scripts/agent_operator.py run \
  --name &quot;chat_with_tools_agent&quot; \
  --question &quot;KABUTO startup issue: screen flashes purple and system freezes&quot; \
  --verbose
</code></pre>
<p>エージェントの推論プロセスを示す出力例：</p>
<pre><code class="language-text">Event: {'chat_with_tools': {'messages': [AIMessage(content='', tool_calls=[
  {'name': 'search_elasticsearch', 'args': {'keywords': 'KABUTO startup purple flashing freeze'}},
  {'name': 'search_qdrant', 'args': {'keywords': 'KABUTO startup purple flashing freeze'}}
])]}}

Event: {'tools': {'messages': [ToolMessage(content='Found documentation about startup protocol...')]}}

Event: {'chat_with_tools': {'messages': [AIMessage(content='
### 問題分析
KABUTO起動時の紫画面点滅は「忍者プロトコル」初期化エラーを示しています...

### 解決策
1. **周辺機器の切断**: すべての接続デバイスを5秒以上取り外す
2. **外部クロックキャッシュのクリア**: クロック同期問題を解決
3. **KABUTOの再起動**: 必要に応じて「ドラゴンボール」ボタンを5秒以上押す
')]}}
</code></pre>
<h3 id="4-fastapi">オプション 4: FastAPI サーバー（プロダクションレディ）</h3>
<p>FastAPI サーバーを実行して、エージェントを API として公開：</p>
<pre><code class="language-shell">uv run fastapi run \
  --host &quot;0.0.0.0&quot; \
  --port 8000 \
  --workers 4 \
  template_langgraph/services/fastapis/main.py
# http://localhost:8000/docs を開いて Swagger UI 経由で API にアクセス
</code></pre>
<p>これにより、HTTP リクエストを介してプログラム的にエージェントと対話できます。</p>
<p><img alt="fastapi.png" src="../images/fastapi.png" /></p>
<h3 id="5-streamlitpoc">オプション 5: Streamlit（PoC デモ）</h3>
<p>Streamlit アプリを実行して、エージェントを Web インターフェースとして公開：</p>
<pre><code class="language-shell">uv run streamlit run \
  template_langgraph/services/streamlits/main.py
</code></pre>
<p>Streamlit アプリのデモ：</p>
<p><a href="https://youtu.be/undxBwyJ3Sc"><img alt="streamlit.png" src="../images/streamlit.png" /></a></p>
<h3 id="6-docker">オプション 6: Docker（本番デプロイ）</h3>
<p>アプリケーションを Docker で実行すると、環境差による違いを減らし、一貫したデプロイが可能になります。ここではイメージのビルド、Streamlit のコンテナ実行、事前ビルド済みイメージの利用、マルチアーキテクチャ対応について説明します。</p>
<h4 id="docker">Docker イメージのビルド</h4>
<pre><code class="language-shell"># ローカルで Docker イメージをビルド
make docker-build

# または特定のタグでビルド
docker build -t ks6088ts/template-langgraph:latest .
</code></pre>
<h4 id="streamlit-docker">Streamlit を Docker で実行</h4>
<pre><code class="language-shell"># Docker で Streamlit アプリを実行する（Makefile ターゲット）
make docker-run-streamlit

# または .env をコンテナにマウントして手動で実行
docker run --rm \
  -p 8501:8501 \
  -v ./.env:/app/.env \
  ks6088ts/template-langgraph:latest \
  streamlit run template_langgraph/services/streamlits/main.py --server.address 0.0.0.0
</code></pre>
<h4 id="_9">事前ビルド済みイメージの使用</h4>
<pre><code class="language-shell"># Docker Hub から実行
docker run --rm \
  -p 8501:8501 \
  -v ./.env:/app/.env \
  ks6088ts/template-langgraph:latest \
  streamlit run template_langgraph/services/streamlits/main.py --server.address 0.0.0.0

# GitHub Container Registry から実行
docker run --rm \
  -p 8501:8501 \
  -v ./.env:/app/.env \
  ghcr.io/ks6088ts-labs/template-langgraph:latest \
  streamlit run template_langgraph/services/streamlits/main.py --server.address 0.0.0.0
</code></pre>
<h4 id="_10">マルチアーキテクチャ対応</h4>
<p>このリポジトリの Docker イメージは <code>amd64</code> と <code>arm64</code> 両アーキテクチャ向けにビルドされています。これにより、Intel/AMD の x64 マシンや Apple Silicon（M1/M2/M3/M4）などの ARM 環境でも動作します。</p>
<p>コンテナを起動したら、ブラウザで <a href="http://localhost:8501">http://localhost:8501</a> にアクセスして Streamlit アプリを確認できます。</p>
<h3 id="_11">追加の実行例</h3>
<ul>
<li>Issue formatter（構造化出力）:</li>
</ul>
<pre><code class="language-shell">uv run python scripts/agent_operator.py run \
  --name issue_formatter_agent \
  --question &quot;KABUTO にログインできない…（省略）&quot; \
  --verbose
</code></pre>
<ul>
<li>News summarizer（URL 扇形展開）:</li>
</ul>
<pre><code class="language-shell">uv run python scripts/agent_operator.py news-summarizer-agent \
  --prompt &quot;日本語で3行に要約してください&quot; \
  --urls &quot;https://example.com/a,https://example.com/b&quot; \
  --verbose
</code></pre>
<ul>
<li>Image classifier（ローカル画像を分類）:</li>
</ul>
<pre><code class="language-shell">uv run python scripts/agent_operator.py image-classifier-agent \
  --prompt &quot;画像の内容を3行で説明してください&quot; \
  --file-paths &quot;docs/images/fastapi.png,docs/images/streamlit.png&quot; \
  --verbose
</code></pre>
<h3 id="_12">デモエージェント実行例</h3>
<ul>
<li>Weather agent（シンプルなツール呼び出し）:</li>
</ul>
<pre><code class="language-shell">uv run python scripts/demo_agents_operator.py weather-agent \
  --query &quot;日本の天気はどうですか？&quot; \
  --verbose
</code></pre>
<ul>
<li>Multi agent（エージェント協調）:</li>
</ul>
<pre><code class="language-shell">uv run python scripts/demo_agents_operator.py multi-agent \
  --query &quot;東京の天気はどうですか？&quot; \
  --verbose
</code></pre>
<ul>
<li>Parallel rag agent（タスク分解）:</li>
</ul>
<pre><code class="language-shell">uv run python scripts/demo_agents_operator.py parallel-rag-agent \
  --query &quot;ソフトウェア会社立ち上げのための情報収集戦略を計画する&quot; \
  --verbose
</code></pre>
<p>Makefile のショートカット（例: <code>make run-chat-with-tools-agent</code>, <code>make run-issue-formatter-agent</code>, <code>make run-news-summarizer-agent</code>, <code>make run-image-classifier-agent</code>）も用意しています。</p>
<h2 id="_13">実演されている主要概念</h2>
<h3 id="1-react">1. <strong>ReAct パターン</strong>（推論 + 行動）</h3>
<p>現代の AI エージェントの基盤 - 何をすべきかを推論し、行動を取り、結果について推論する能力。</p>
<h3 id="2_1">2. <strong>ツール呼び出し</strong></h3>
<p>エージェントが外部関数を使用する方法：</p>
<ul>
<li>データベース検索（Elasticsearch、Qdrant）</li>
<li>API 呼び出し</li>
<li>ファイル処理</li>
<li>計算実行</li>
</ul>
<h3 id="3_2">3. <strong>状態管理</strong></h3>
<p>LangGraph が複数のインタラクションステップにわたってコンテキストを維持し、複雑なマルチターン会話を可能にする方法。</p>
<h3 id="4">4. <strong>条件付きワークフロー</strong></h3>
<p>エージェントの決定や外部条件に基づく分岐ロジックを作成するためのグラフ構造の使用。</p>
<h3 id="5">5. <strong>マルチエージェントシステム</strong></h3>
<p>異なる専門知識を必要とする複雑なタスクを処理するための複数の専門エージェントの協調。</p>
<h2 id="_14">データソースの説明</h2>
<p>プロジェクトは実際のシナリオを実演するために「KABUTO」というシステムについての架空のデータを使用しています：</p>
<ul>
<li><strong><code>data/docs_kabuto.pdf</code></strong> - 技術文書（ユーザーマニュアルをシミュレート）</li>
<li><strong><code>data/qa_kabuto.csv</code></strong> - FAQ データベース（過去のサポートチケットをシミュレート）</li>
<li><strong><code>data/docs_kabuto.md</code></strong> - 追加文書</li>
</ul>
<p>この架空のデータには目的があります：AI エージェントが LLM の訓練データにない情報で動作できることを証明し、検索拡張生成（RAG）の価値を実演しています。</p>
<h2 id="_15">ツールと設定</h2>
<p>既定のツールセットは <code>template_langgraph/tools/common.py</code> で定義され、検索/ベクター/ワークフロー/SQL（任意）/MCP などを含みます。<code>.env</code> の環境変数で有効化・設定します（<code>.env.template</code> 参照）。</p>
<ul>
<li>Azure OpenAI</li>
<li><code>AZURE_OPENAI_ENDPOINT</code>, <code>AZURE_OPENAI_API_KEY</code>, <code>AZURE_OPENAI_API_VERSION</code></li>
<li><code>AZURE_OPENAI_MODEL_CHAT</code>, <code>AZURE_OPENAI_MODEL_EMBEDDING</code>, <code>AZURE_OPENAI_MODEL_REASONING</code></li>
<li>Entra ID 認証の任意設定: <code>AZURE_OPENAI_USE_MICROSOFT_ENTRA_ID=true</code></li>
<li>Azure AI Foundry</li>
<li><code>AZURE_AI_FOUNDRY_INFERENCE_ENDPOINT</code>, <code>AZURE_AI_FOUNDRY_INFERENCE_API_VERSION</code></li>
<li><code>AZURE_AI_FOUNDRY_INFERENCE_MODEL_CHAT</code></li>
<li>Ollama（ローカル）</li>
<li><code>OLLAMA_MODEL_CHAT</code></li>
<li>Azure AI Search</li>
<li><code>AI_SEARCH_ENDPOINT</code>, <code>AI_SEARCH_KEY</code>, <code>AI_SEARCH_INDEX_NAME</code></li>
<li>Azure Cosmos DB（ベクター）</li>
<li><code>COSMOSDB_HOST</code>, <code>COSMOSDB_KEY</code>, <code>COSMOSDB_DATABASE_NAME</code>, <code>COSMOSDB_CONTAINER_NAME</code>, <code>COSMOSDB_PARTITION_KEY</code></li>
<li>Elasticsearch</li>
<li><code>ELASTICSEARCH_URL</code>（既定 <code>http://localhost:9200</code>）</li>
<li>Qdrant</li>
<li><code>QDRANT_URL</code>（既定 <code>http://localhost:6333</code>）</li>
<li>SQL Database（任意）</li>
<li><code>SQL_DATABASE_URI</code>（未設定なら無効）</li>
<li>Dify</li>
<li><code>DIFY_BASE_URL</code>, <code>DIFY_API_KEY</code></li>
<li>MCP（Model Context Protocol）</li>
<li><code>MCP_CONFIG_PATH</code>（JSON 設定。動的にツールをロード）</li>
<li>Notifier/Scraper/Summarizer 切替</li>
<li><code>NOTIFIER_TYPE</code>（<code>mock</code>/<code>slack</code>）、<code>NOTIFIER_SLACK_WEBHOOK_URL</code></li>
<li><code>SCRAPER_TYPE</code>（<code>mock</code>/<code>httpx</code>/<code>youtube_transcript</code>）</li>
<li><code>SUMMARIZER_TYPE</code>（<code>mock</code>/<code>llm</code>）</li>
</ul>
<h3 id="mcp">MCP ツールのクイックスタート</h3>
<p><code>MCP_CONFIG_PATH</code> を指定すると、MCP サーバーのツールが自動的にロードされます。ローカル検証:</p>
<pre><code class="language-shell">make mcp-inspector
</code></pre>
<h2 id="_16">次のステップ</h2>
<ol>
<li><strong>基本から始める</strong>: <code>kabuto_helpdesk_agent</code>の例を実行</li>
<li><strong>デモエージェントを試す</strong>: <code>weather_agent</code>、<code>multi_agent</code>、<code>parallel_rag_agent</code>でシンプルなパターンを探索</li>
<li><strong>実装を理解する</strong>: <code>chat_with_tools_agent</code>と比較</li>
<li><strong>高度なパターンを探索</strong>: タスク分解器とスーパーバイザーエージェントを試す</li>
<li><strong>独自のものを構築</strong>: このテンプレートをあなたのユースケースの出発点として使用</li>
</ol>
<h2 id="_17">可観測性（任意）</h2>
<p>OpenTelemetry 用のヘルパーがあります（<code>template_langgraph/internals/otel_helpers.py</code>）。簡易スパン動作確認:</p>
<pre><code class="language-shell">uv run python scripts/otel_operator.py run -q &quot;health check&quot; -v
</code></pre>
<h2 id="_18">学習リソース</h2>
<ul>
<li><a href="https://langchain-ai.github.io/langgraph/">LangGraph 公式ドキュメント</a></li>
<li><a href="https://python.langchain.com/">LangChain 公式ドキュメント</a></li>
</ul>
<h2 id="_19">アーキテクチャの例</h2>
<p>このテンプレートは複数の実証済みエージェントアーキテクチャを実演しています：</p>
<ol>
<li><strong>ツール付きシングルエージェント</strong> - 基本的なツール呼び出しパターン（<code>weather_agent</code>）</li>
<li><strong>ReAct エージェント</strong> - ループでの推論と行動（<code>kabuto_helpdesk_agent</code>）</li>
<li><strong>構造化出力エージェント</strong> - フォーマットされたデータの返却（<code>issue_formatter_agent</code>）</li>
<li><strong>計画エージェント</strong> - 複雑なタスクの分解（<code>task_decomposer_agent</code>）</li>
<li><strong>マルチエージェントシステム</strong> - 複数エージェントの協調（<code>supervisor_agent</code>、<code>multi_agent</code>）</li>
<li><strong>並列処理</strong> - 同時タスク実行（<code>parallel_rag_agent</code>）</li>
</ol>
<p>各パターンは、いつどのように使用するかを理解するのに役立つ明確な例と文書で実装されています。</p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/ks6088ts/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/ks6088ts" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/ks6088ts" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>